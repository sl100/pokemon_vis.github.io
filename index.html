<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width = device-width, initial-scale = 1.0">
        <link rel="stylesheet" href="pokemon.css">
        <script type="text/javascript" src="https://d3js.org/d3.v4.js" charset="utf-8"></script>
        <title> Assignment 7-3-3 - Stanley  Liu (sliu203) </title>
    </head>
    
    <body margin-top: 10%>
        
        <h1> 7-3-3: Complete Pokemon Dataset Visualization by Stanley Liu (sliu203)</h1>
        
        <p> This is a data visualization of the Complete Pokemon Dataset from Kaggle which includes data from all Pokemon species from Generations 1-7. For each Pokemon species, fields such as their name, number, primary and secondary typings, base combat stats, and other metrics will be visualized. This will enable us to better understand the unique characteristics of each Pokemon subcategory, whether it be generation, typing, or some other grouping. </p>
        
        <p> First, let us take an overview of each generation by looking at the average stat distributions for each generation. This will help us see if there has been a noticeable 'power creep' as new games have been released. </p>
        
        <div id="my_dataviz">
        
            <script type="text/javascript">
                        
                // set the dimensions and margins of the graph
                var margin = {top: 20, right: 30, bottom: 30, left: 60},
                    width = 600 - margin.left - margin.right,
                    height = 600 - margin.top - margin.bottom;

                // append the svg object to the body of the page
                var svg = d3.select("#my_dataviz")
                  .append("svg")
                    .attr("width", width + margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom)
                  .append("g")
                    .attr("transform",
                          "translate(" + margin.left + "," + margin.top + ")");

                
                // x and y axes  
                d3.csv("PKMN Gen Combat Stat Avg.csv", function(data){
                 /*   var x = d3.scaleLinear()
                        .domain([1,7]).range([0,400]);
                    d3.select('svg').append('g').attr('transform','translate(50,450)').call(d3.axisBottom(x).tickValues([1,2,3,4,5,6,7]));
                    
                    var y = d3.scaleLinear()
                        .domain([0,400]).range([400,0]);
                    d3.select('svg').append('g').attr('transform','translate(50,50)').call(d3.axisLeft(y).tickValues([0,50,100,150,200,250,300]));
                 */
                
                var x = d3.scaleLinear()
                    .domain(d3.extent(data, function(d) { return d.Generation; }))
                    .range([ 0, width ]);
                  svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(d3.axisBottom(x).ticks(5));

              // Add Y axis
              var y = d3.scaleLinear()
                .domain([-300, 300])
                .range([ height, 0 ]);
              svg.append("g")
                .call(d3.axisLeft(y));
                    
                    
                    // Keys = CSV column names
                keys = data.columns.slice(1)
                
                // color range
                var color = d3.scaleOrdinal()
                    .domain(keys).range(colorrange = ["#B30000", "#E34A33", "#FC8D59", "#FDBB84", "#FDD49E", "#FEF0D9"]);
                
                // data stack
                var stackedData = d3.stack()
                    .offset(d3.stackOffsetSilhouette)
                    .keys(keys)
                    (data)
                
                // plot 
                svg
                    .selectAll("mylayers")
                    .data(stackedData)
                    .enter()
                    .append("path")
                      .style("fill", function(d) { return color(d.key); })
                      .attr("d", d3.area()
                        .x(function(d, i) { return x(d.data.Generation); })
                        .y0(function(d) { return y(d[0]); })
                        .y1(function(d) { return y(d[1]); })
                    )             
                })
                
                
            </script>    
        </div>
        
        
         
         
    </body>
</html>
